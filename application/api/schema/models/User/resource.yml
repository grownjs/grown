id: User

service:
  calls:
  - set: createUser
    resp: Success
    input: CreateUserParams
    params: CreateUserRequest
  - set: resetPassword
    resp: Success
    input: ResetPasswordParams
    params: ResetPasswordRequest
  - set: updatePassword
    resp: User
    input: UpdatePasswordParams
    params: UpdatePasswordRequest
  - set: recoverPassword
    resp: Success
    input: RecoverPasswordParams
    params: RecoverPasswordRequest

definitions:
  Success:
    $ref: 'apiTypes#/definitions/SuccessfulResponse'

  CreateUserParams:
    properties:
      email:
        type: string
      password:
        type: string
      confirmPassword:
        type: string
    required: [email, password, confirmPassword]

  CreateUserRequest:
    properties:
      guid:
        type: string
      params:
        $ref: '#/definitions/CreateUserParams'
    required: [guid, params]

  ResetPasswordParams:
    properties:
      token:
        type: string
      newPassword:
        type: string
      confirmPassword:
        type: string
    required: [token, newPassword, confirmPassword]

  ResetPasswordRequest:
    properties:
      guid:
        type: string
      params:
        $ref: '#/definitions/ResetPasswordParams'
    required: [guid, params]

  UpdatePasswordParams:
    properties:
      userId:
        type: integer
      oldPassword:
        type: string
      newPassword:
        type: string
      confirmPassword:
        type: string
    required: [oldPassword, newPassword, confirmPassword]

  UpdatePasswordRequest:
    properties:
      guid:
        type: string
      params:
        $ref: '#/definitions/UpdatePasswordParams'
    required: [guid, params]

  RecoverPasswordParams:
    properties:
      email:
        type: string
    required: [email]

  RecoverPasswordRequest:
    properties:
      guid:
        type: string
      params:
        $ref: '#/definitions/RecoverPasswordParams'
    required: [guid, params]
