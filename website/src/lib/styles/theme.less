html, body {
  height: 100%;
}
body {
  font-family: 'Sorts Mill Goudy', serif;
  background-color: @light-alt-bg;
  color: @light-fg;
  font-size: 120%;
}

i, em { color: @light-italic; }
b, strong { color: @light-bold; }

a[href] {
  text-decoration: none;
  color: @light-link-text;
  &:hover {
    color: @light-link-hover;
    text-decoration: underline;
    text-shadow: 1px 1px 1px @light-bg;
  }
  &[aria-current=page] {
    text-decoration: none;
    font-weight: bold;
    color: @light-bold;
    &::before {
      content: 'â–¸ ';
    }
  }
}

kbd {
  background-color: @light-thick;
  box-shadow: 0 0 3px @light-shadow;
}

p > code,
li > code {
  background-color: @light-alt-bg;
  white-space: nowrap;
}
pre {
  background: @light-hljs-pre;
  border-radius: 5px 5px 5px 0;
}

blockquote {
  background-color: @light-thick;
  border-radius: 5px;
}

blockquote {
  box-shadow: 0 1px 3px @light-shadow;
  border-left: 5px solid @light-thick;
  padding-left: 15px;
  margin: 0;
}

blockquote > code,
a > code {
 padding: 0 .2em;
 background-color: @light-bg;
}
p > code,
li > code {
  &::before { content: '`'; opacity: .5; }
  &::after { content: '`'; opacity: .5; }
}

pre + *,
* + pre,
p + * {
  margin-top: .5em;
}

ol + *,
ul + *,
blockquote + *,
* + blockquote {
  margin-top: 1.5em;
}

hr {
  height: 1px;
  border: none;
  margin: 1em 0;
  border-top: 1px solid @light-shadow;
}

h3 > var {
  background-color: @light-thick;
  font-size: .7em;
  padding: 0 5px;
  border-radius: 5px;
}

pre,
blockquote {
  padding: 10px;
}
blockquote p:first-child { margin-top: 0; }
blockquote p:last-child { margin-bottom: 0; }

iframe {
  border-radius: 5px;
  background-color: @light-alt-bg;
}
iframe,
pre {
  border: 1px dashed @light-shadow;
}

ul.reset {
  li a {
    border-bottom: 1px dashed @light-shadow;
  }
}

.microlight {
  font-family : monospace;
  white-space : pre;
}

.logotype {
  position: relative;
  color: @light-logo-fill;

  a {
    display: block;
  }
  svg {
    max-width: 250px;
    path {
      fill: @light-logo-fill;
    }
  }
  small {
    bottom: -5px;
    color: inherit;
    font-size: .6em;
    position: absolute;
  }
}

.action, .field {
  box-shadow: 0 1px 3px @light-shadow;
  border: 1px dashed @light-thick;
  position: relative;
  background-color: @light-bg;
  padding: 5px;
  transition: all .2s;
  &:focus {
    outline: none;
  }
}
.action {
  &:hover {
    background-color: @light-alt-bg;
  }
}

#nav {
  > ul{
    > li {
      margin-bottom: 1em;
    }

    ul {
      margin-left: .5em;
    }
  }
}

#menu {
  background-color: @light-bg;
  border: 1px dashed @light-shadow;
  box-shadow: 0 1px 3px @light-shadow;
}

#sidebar {
  border-top: 1px dashed @light-shadow;
  background-color: @light-alt-bg;
}

#content {
  background-color: @light-bg;
  > main ~ nav {
    padding-top: 20px;
    border-top: 1px dashed @light-shadow;
  }
  li a,
  p a {
    text-decoration: underline;
  }
}

#target {
  &::before {
    background-color: @light-bg;
  }
}

@media screen and (min-width: 640px) {
  body {
    background-image: linear-gradient(90deg, @light-alt-bg 50%, @light-bg 50%);
  }

  html[theme=dark] {
    body {
      background-image: linear-gradient(90deg, @dark-alt-bg 50%, @dark-bg 50%);
    }
  }

  #sidebar {
    border-right: 1px dashed @light-shadow;
    border-top: 0;
  }
}

html[theme=dark] {
  body {
    background-color: @dark-bg;
    color: @dark-fg;
  }

  i, em { color: @dark-italic; }
  b, strong { color: @dark-bold; }

  a[href] {
    color: @dark-link-text;
    &:hover {
      color: @dark-link-hover;
      text-shadow: 1px 1px 1px @dark-bg;
    }
    &[aria-current=page] {
      color: @dark-bold;
    }
  }

  kbd {
    background-color: @dark-alt-bg;
    box-shadow: 0 0 3px @dark-shadow;
  }

  a > code {
    background-color: @dark-bg;
  }
  p > code,
  li > code {
    background-color: @dark-alt-bg;
  }
  blockquote {
    background-color: @dark-shadow;
    box-shadow: 0 1px 3px @dark-shadow;
    border-color: @dark-alt-bg;
    > code {
      background-color: @dark-bg;
    }
  }
  iframe {
    background-color: @dark-fg;
    border: 1px dashed @dark-shadow;
  }
  pre {
    border: 1px dashed @dark-thick;
    background-color: @dark-hljs-pre;
  }
  hr {
    box-shadow: 0 3px @dark-thick;
  }

  h3 > var {
    background-color: @dark-shadow;
  }

  ul.reset {
    li a {
      border-color: @dark-thick;
    }
  }

  .logotype {
    color: @dark-logo-fill;
    svg path {
      fill: @dark-logo-fill;
    }
  }

  .action, .field {
    color: @dark-fg;
    background-color: @dark-bg;
    border-color: @dark-thick;
    box-shadow: 0 1px 3px @dark-shadow;
  }
  .action {
    &:hover {
      background-color: @dark-alt-bg;
    }
  }

  #menu {
    background-color: @dark-bg;
    border: 1px dashed @dark-thick;
    box-shadow: 0 1px 3px @dark-shadow;
  }

  #sidebar {
    background-color: @dark-alt-bg;
    border-color: @dark-thick;
  }

  #content {
    background-color: @dark-bg;
    > main ~ nav {
      border-top: 1px dashed @dark-thick;
    }
  }

  #target {
    &::before {
      background-color: @dark-bg;
    }
  }
}
