<!DOCTYPE html><html><head><base href="/"><meta lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no"><!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><script src="//css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script><![endif]--><title>FTW</title><link rel="stylesheet" href="styles.css"></head><body><main style="margin-left:20em;"><h3 id="models">Models</h3>
<p>Simple and well-known data structures that just works.</p>
<h4 id="json-schema">JSON-Schema</h4>
<p>At least declaring a <code>$schema</code> will be enough.</p>
<pre><code class="lang-js">// app/models/Dummy.js

module.exports = {
  $schema: {
    type: &#39;object&#39;,
    properties: {
      id: {
        type: &#39;integer&#39;,
        minimum: 1,
        primaryKey: true,
        autoIncrement: true,
      },
    },
    required: [
      &#39;id&#39;,
    ],
  },
},
</code></pre>
<p>&mdash; References:</p>
<ul>
<li><a href="https://www.npmjs.com/package/json-schema-sequelizer">json-schema-sequelizer</a></li>
<li><a href="https://github.com/json-schema-faker/json-schema-faker">json-schema-faker</a></li>
<li><a href="http://docs.sequelizejs.com/">sequelize</a></li>
</ul>
<h4 id="model-syncing">Model syncing</h4>
<p>To synchronize your database execute <code>grown db-sync</code> on your terminal.</p>
<blockquote>
<p>If the changes are not applied try again with the <code>--force</code> flag</p>
</blockquote>
<h4 id="testing-models">Testing models</h4>
<p>Prove your models without any trouble:</p>
<pre><code class="lang-coffee"># spec/models-spec.coffee

app = require(&#39;../app/server&#39;)
Grown = require(&#39;grown&#39;)

describe &#39;all models&#39;, -&gt;
  beforeEach Grown.test(app)

  it &#39;can be tested&#39;, (done) -&gt;
    @models.Dummy.findAll().then (result) -&gt;
      expect(result.length).toEqual 0
      done()
</code></pre>
<p>JSON-Schema allows you to generate random data through the <code>faked</code> property:</p>
<pre><code class="lang-js">const result = Dummy.faked.findAll();
</code></pre>
<p>&mdash; Known issues:</p>
<ul>
<li>only <code>findOne()</code> and <code>findAll()</code> are supported</li>
</ul>
<h4 id="interactive-mode-models">Interactive mode (models)</h4>
<p>Within the REPL you can run <code>.models</code> to inspect them.</p>
<p>Models are available within the REPL, so <code>Dummy</code> will be a local.</p>
<ul>
<li><a href="/">back</a></li>
<li><a href="/docs/views">next</a></li>
</ul>
</main><aside style="position:fixed;top:0;max-width:20em;overflow:hidden;"><ul><li><a href="/">home</a></li><li><a href="/docs">docs</a><ul><li><a href="/docs/initialization">Initialization</a></li><li><a href="/docs/interactive-mode">Interactive mode</a></li><li><a href="/docs/controllers">Controllers<ul><li><a href="/docs/controllers#routing">Routing</a></li><li><a href="/docs/controllers#definition">Definition</a></li><li><a href="/docs/controllers#end-responses">End responses</a></li><li><a href="/docs/controllers#testing-actions">Testing actions</a></li><li><a href="/docs/controllers#interactive-mode-fetch">Interactive mode (fetch)</a></li></ul></a></li><li><a href="/docs/models">Models<ul><li><a href="/docs/models#json-schema">JSON-Schema</a></li><li><a href="/docs/models#model-syncing">Model syncing</a></li><li><a href="/docs/models#testing-models">Testing models</a></li><li><a href="/docs/models#interactive-mode-models">Interactive mode (models)</a></li></ul></a></li><li><a href="/docs/views">Views<ul><li><a href="/docs/views#functions-as-templates">Functions as templates</a></li><li><a href="/docs/views#pre-compiled-templates">Pre-compiled templates</a></li><li><a href="/docs/views#layouts-blocks">Layouts & blocks</a></li><li><a href="/docs/views#testing-views">Testing views</a></li><li><a href="/docs/views#interactive-mode-render">Interactive mode (render)</a></li></ul></a></li><li><a href="/docs/booting">Booting<ul><li><a href="/docs/booting#server">Server</a></li><li><a href="/docs/booting#api">API</a></li><li><a href="/docs/booting#hooks">Hooks</a></li><li><a href="/docs/booting#plugins">Plugins</a></li><li><a href="/docs/booting#middlewares">Middlewares</a></li><li><a href="/docs/booting#testing-the-app">Testing the app</a></li><li><a href="/docs/booting#interactive-mode-reload">Interactive mode (reload)</a></li></ul></a></li><li><a href="/docs/assets">Assets<ul><li><a href="/docs/assets#static-files">Static files</a></li><li><a href="/docs/assets#javascripts">Javascripts</a></li><li><a href="/docs/assets#stylesheets">Stylesheets</a></li><li><a href="/docs/assets#images-sprites">Images & Sprites</a></li><li><a href="/docs/assets#templating-views">Templating (views)</a></li></ul></a></li></ul></li></ul></aside></body></html>