<!DOCTYPE html>
<html>
  <head>
    <base href="/">
    <meta lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no"><!--[if lt IE 9]>
    <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <script src="https://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script><![endif]-->
    <title>Grown // Render (0da00dd)</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/highlight.js/styles/default.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sorts+Mill+Goudy">
  </head>
  <body class="reset">
    <script>
      /* eslint-disable */
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', '', 'auto');
      ga('send', 'pageview');
      /* eslint-enable */
      
    </script>
    <main id="wrapper">
      <div class="body" id="content">
        <main><a id="menu" href="./docs/extensions/render/#sidebar">&#9776;</a>
          <h1>Render <small><a href="//github.com/grownjs/grown/blob/master/website/src/pages/docs/extensions/render.md" target="_blank">✎</a></small></h1><p>Print out your views and templates as response.</p>
<pre class="hljs"><code class="lang-js"><span class="hljs-comment">/* @runkit */</span>
<span class="hljs-comment">// register extension</span>
Grown.use(<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@grown/render&#x27;</span>));

<span class="hljs-comment">// ./views/default.js</span>
<span class="hljs-comment">// module.exports = data =&gt;</span>
<span class="hljs-comment">//   `&lt;html&gt;&lt;body&gt;${data.contents}&lt;/body&gt;&lt;/html&gt;`;</span>

<span class="hljs-comment">// ./views/Home/index.js</span>
<span class="hljs-comment">// module.exports = (_, h) =&gt; h(&#x27;h1&#x27;, null, &#x27;It works!&#x27;);</span>

<span class="hljs-comment">// ./views/About/about.js</span>
<span class="hljs-comment">// module.exports = () =&gt; &#x27;&lt;h1&gt;About...&lt;/h1&gt;&#x27;;</span>

<span class="hljs-comment">// ./views/Errors/not_found.js</span>
<span class="hljs-comment">// module.exports = () =&gt; &#x27;&lt;h1&gt;404&lt;/h1&gt;&#x27;;</span>

<span class="hljs-comment">// setup middleware...</span>
server.plug(Grown.Render({
  <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;default&#x27;</span>,
  <span class="hljs-attr">view_folders</span>: [
    <span class="hljs-string">`<span class="hljs-subst">${__dirname}</span>/views`</span>
  ],
}));

server.mount(<span class="hljs-function"><span class="hljs-params">ctx</span> =&gt;</span> {
  <span class="hljs-comment">// you can append/prepende to the head and body tags</span>
  ctx.append(<span class="hljs-string">&#x27;head&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-string">`&lt;title&gt;URL: <span class="hljs-subst">${ctx.req.url}</span>&lt;/title&gt;`</span>);
  ctx.append(<span class="hljs-string">&#x27;head&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-string">&#x27;&lt;style&gt;*{margin:0}&lt;/style&gt;&#x27;</span>);

  <span class="hljs-keyword">if</span> (ctx.req.url === <span class="hljs-string">&#x27;/&#x27;</span>) {
    ctx.render(<span class="hljs-string">&#x27;Home/index&#x27;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ctx.req.url === <span class="hljs-string">&#x27;/about&#x27;</span>) {
    ctx.render(<span class="hljs-string">&#x27;About/about&#x27;</span>);
  } <span class="hljs-keyword">else</span> {
    ctx.render(<span class="hljs-string">&#x27;Errors/not_found&#x27;</span>);
  }
});
</code></pre>
<blockquote>
<p>Click <kbd>► RUN</kbd> and try these links: <a href="/"><code>Home</code></a>, <a href="/about"><code>About</code></a> and <a href="/not_found"><code>Not found</code></a>.</p>
</blockquote>
<div id="target"></div>

<h2 id="views">Views</h2>
<h3 id="props-var-mixin-var">Props <var>mixin</var></h3>
<h3 id="methods-var-mixin-var">Methods <var>mixin</var></h3>
<h3 id="public-props-var-static-var">Public props <var>static</var></h3>
<h3 id="public-methods-var-static-var">Public methods <var>static</var></h3>
<h3 id="private-props-var-static-var">Private* props <var>static</var></h3>
<h3 id="private-methods-var-static-var">Private* methods <var>static</var></h3>
<h2 id="layout">Layout</h2>
<h3 id="props-var-mixin-var">Props <var>mixin</var></h3>
<h3 id="methods-var-mixin-var">Methods <var>mixin</var></h3>
<h3 id="public-props-var-static-var">Public props <var>static</var></h3>
<h3 id="public-methods-var-static-var">Public methods <var>static</var></h3>
<h3 id="private-props-var-static-var">Private* props <var>static</var></h3>
<h3 id="private-methods-var-static-var">Private* methods <var>static</var></h3>
<h2 id="actions">Actions</h2>
<h3 id="props-var-mixin-var">Props <var>mixin</var></h3>
<h3 id="methods-var-mixin-var">Methods <var>mixin</var></h3>
<h3 id="public-props-var-static-var">Public props <var>static</var></h3>
<h3 id="public-methods-var-static-var">Public methods <var>static</var></h3>
<h3 id="private-props-var-static-var">Private* props <var>static</var></h3>
<h3 id="private-methods-var-static-var">Private* methods <var>static</var></h3>

        </main>
      </div>
      <aside class="inverted" id="sidebar">
        <div class="body">
          <h1><a href="./">Grown</a>
          </h1>
          <p>Experimental DSL for web-apps</p>
          <div class="sp"><a href="//travis-ci.org/grownjs/grown" target="_blank"><img src="//api.travis-ci.org/grownjs/grown.svg"></a><a href="//codecov.io/gh/grownjs/grown" target="_blank"><img src="//codecov.io/gh/grownjs/grown/branch/master/graph/badge.svg"></a></div>
          <ul class="mt reset">
            <li>
              <h3 class="reset">APIs</h3>
              <ul class="pl reset">
                <li><a href="./">Installation</a>
                </li>
                <li><a href="./docs">The interface</a>
                </li>
                <li><a href="./docs/command-line">Command line</a>
                </li>
              </ul>
            </li>
            <li>
              <h3 class="reset">Add-ons</h3>
              <ul class="pl reset">
                <li><a href="./docs/extensions">Extensions</a>
                  <ul class="pl reset">
                    <li><a href="./docs/extensions/access">Access</a>
                    </li>
                    <li><a href="./docs/extensions/bud">Bud</a>
                    </li>
                    <li><a href="./docs/extensions/cli">CLI</a>
                    </li>
                    <li><a href="./docs/extensions/conn">Conn</a>
                    </li>
                    <li><a href="./docs/extensions/graphql">GraphQL</a>
                    </li>
                    <li><a href="./docs/extensions/grpc">GRPC</a>
                    </li>
                    <li><a href="./docs/extensions/logger">Logger</a>
                    </li>
                    <li><a href="./docs/extensions/model">Model</a>
                    </li>
                    <li><strong><a class="here" href="./docs/extensions/render">Render</a></strong>
                    </li>
                    <li><a href="./docs/extensions/repl">REPL</a>
                    </li>
                    <li><a href="./docs/extensions/router">Router</a>
                    </li>
                    <li><a href="./docs/extensions/server">Server</a>
                    </li>
                    <li><a href="./docs/extensions/session">Session</a>
                    </li>
                    <li><a href="./docs/extensions/static">Static</a>
                    </li>
                    <li><a href="./docs/extensions/tarima">Tarima</a>
                    </li>
                    <li><a href="./docs/extensions/test">Test</a>
                    </li>
                    <li><a href="./docs/extensions/upload">Upload</a>
                    </li>
                  </ul>
                </li>
                <li><a href="./docs/connection">Connection</a>
                </li>
                <li><a href="./docs/middlewares">Middlewares</a>
                </li>
              </ul>
            </li>
            <li>
              <h3 class="reset">Data-layer</h3>
              <ul class="pl reset">
                <li><a href="./docs/database">Models</a>
                </li>
                <li><a href="./docs/validation">Schemas</a>
                </li>
              </ul>
            </li>
            <li>
              <h3 class="reset">Controllers</h3>
              <ul class="pl reset">
                <li><a href="./docs/controllers">Web</a>
                </li>
                <li><a href="./docs/controllers/grpc">GRPC</a>
                </li>
                <li><a href="./docs/controllers/graphql">GraphQL</a>
                </li>
              </ul>
            </li>
            <li>
              <h3 class="reset">Unit-testing</h3>
              <ul class="pl reset">
                <li><a href="./docs/testing">Server</a>
                </li>
                <li><a href="./docs/testing/schema">Schema</a>
                </li>
                <li><a href="./docs/testing/handlers">Handlers</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </aside>
    </main>
    <script>window.__runkit__ = {"endpoint":true,"preamble":{"contents":"const fs = require('fs');\nconst path = require('path');\n\nfs.mkdirSync('./app');\nfs.mkdirSync('./app/views');\nfs.mkdirSync('./app/views/Home');\nfs.mkdirSync('./app/views/About');\nfs.mkdirSync('./app/views/Errors');\n\nfs.writeFileSync('./app/views/default.js', `\n  module.exports = data => '<html><body>' + data.contents + '</body></html>';\n`);\n\nfs.writeFileSync('./app/views/Home/index.js', `\n  module.exports = (_, h) => h('h1', null, 'It works!');\n`);\n\nfs.writeFileSync('./app/views/About/about.js', `\n  module.exports = () => '<h1>About...</h1>';\n`);\n\nfs.writeFileSync('./app/views/Errors/not_found.js', `\n  module.exports = () => '<h1>404</h1>';\n`);\n\nconst Grown = require('@grown/bud')();\n\nGrown.use(require('@grown/server'));\n\nconst server = new Grown();\n\nprocess.nextTick(() => server.listen(8080));\n\neval(`__dirname='${path.join(process.cwd(), 'app')}';`); // eslint-disable-line\n"}};</script>
    <script src="//embed.runkit.com"></script>
    <script src="scripts.js"></script>
  </body>
</html>